"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/render/route";
exports.ids = ["app/api/render/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frender%2Froute&page=%2Fapi%2Frender%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frender%2Froute.ts&appDir=D%3A%5CWORKDATA%5Cclip-js%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWORKDATA%5Cclip-js&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frender%2Froute&page=%2Fapi%2Frender%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frender%2Froute.ts&appDir=D%3A%5CWORKDATA%5Cclip-js%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWORKDATA%5Cclip-js&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_WORKDATA_clip_js_app_api_render_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/render/route.ts */ \"(rsc)/./app/api/render/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/render/route\",\n        pathname: \"/api/render\",\n        filename: \"route\",\n        bundlePath: \"app/api/render/route\"\n    },\n    resolvedPagePath: \"D:\\\\WORKDATA\\\\clip-js\\\\app\\\\api\\\\render\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_WORKDATA_clip_js_app_api_render_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/render/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZW5kZXIlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnJlbmRlciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnJlbmRlciUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDV09SS0RBVEElNUNjbGlwLWpzJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDV09SS0RBVEElNUNjbGlwLWpzJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ0M7QUFDOUU7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1R0FBdUc7QUFDL0c7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUM2Sjs7QUFFN0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGlwanMvPzc1YzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcV09SS0RBVEFcXFxcY2xpcC1qc1xcXFxhcHBcXFxcYXBpXFxcXHJlbmRlclxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvcmVuZGVyL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcmVuZGVyXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9yZW5kZXIvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxXT1JLREFUQVxcXFxjbGlwLWpzXFxcXGFwcFxcXFxhcGlcXFxccmVuZGVyXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3JlbmRlci9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frender%2Froute&page=%2Fapi%2Frender%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frender%2Froute.ts&appDir=D%3A%5CWORKDATA%5Cclip-js%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWORKDATA%5Cclip-js&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/render/route.ts":
/*!*********************************!*\
  !*** ./app/api/render/route.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _app_utils_extractConfigs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/app/utils/extractConfigs */ \"(rsc)/./app/utils/extractConfigs.ts\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\nasync function ensureDir(dirPath) {\n    try {\n        await fs__WEBPACK_IMPORTED_MODULE_3___default().promises.access(dirPath);\n    } catch (e) {\n        await fs__WEBPACK_IMPORTED_MODULE_3___default().promises.mkdir(dirPath, {\n            recursive: true\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const state = await request.json();\n        const renderId = (0,crypto__WEBPACK_IMPORTED_MODULE_5__.randomUUID)();\n        const tempDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \".tmp\");\n        await ensureDir(tempDir);\n        const outputFileName = `${renderId}.mp4`;\n        const outputPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(tempDir, outputFileName);\n        const logPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(tempDir, `${renderId}.log`);\n        const params = (0,_app_utils_extractConfigs__WEBPACK_IMPORTED_MODULE_4__.extractConfigs)(state.exportSettings);\n        const filters = [];\n        const inputs = [];\n        const audioStreams = [];\n        let complexFilter = \"\";\n        filters.push(`color=c=black:size=1920x1080:d=${state.duration.toFixed(3)}[base]`);\n        const allElements = [\n            ...state.mediaFiles.map((item)=>({\n                    ...item,\n                    elementType: item.type\n                })),\n            ...state.textElements.map((item)=>({\n                    ...item,\n                    elementType: \"text\"\n                }))\n        ].map((item)=>{\n            const trackIndex = state.tracks.findIndex((t)=>t.id === item.trackId);\n            const totalTracks = state.tracks.length;\n            const baseZIndex = (totalTracks - trackIndex - 1) * 10;\n            const finalZIndex = baseZIndex + (item.layerOrder || 0);\n            return {\n                ...item,\n                zIndex: finalZIndex\n            };\n        }).sort((a, b)=>a.zIndex - b.zIndex);\n        let inputIndex = 0;\n        for (const element of allElements){\n            if (element.elementType === \"video\" || element.elementType === \"image\" || element.elementType === \"audio\") {\n                const mediaPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"public\", element.url);\n                const currentInput = inputIndex++;\n                if (element.type === \"image\") {\n                    inputs.push(\"-loop\", \"1\", \"-t\", (element.positionEnd - element.positionStart).toFixed(3), \"-i\", mediaPath);\n                } else {\n                    inputs.push(\"-i\", mediaPath);\n                }\n                const { startTime, positionStart, positionEnd } = element;\n                const duration = positionEnd - positionStart;\n                const visualLabel = `visual${currentInput}`;\n                const audioLabel = `audio${currentInput}`;\n                if (element.type === \"video\" || element.type === \"image\") {\n                    let videoFilter = `[${currentInput}:v]`;\n                    if (element.type === \"video\") {\n                        videoFilter += `trim=start=${startTime.toFixed(3)}:duration=${duration.toFixed(3)},`;\n                    }\n                    videoFilter += `scale=${element.width || 1920}:${element.height || 1080},setpts=PTS-STARTPTS+${positionStart.toFixed(3)}/TB`;\n                    const alpha = Math.min(Math.max((element.opacity || 100) / 100, 0), 1);\n                    videoFilter += `,format=yuva420p,colorchannelmixer=aa=${alpha}[${visualLabel}]`;\n                    filters.push(videoFilter);\n                }\n                if (element.type === \"audio\" && element.volume > 0) {\n                    const delayMs = Math.round(positionStart * 1000);\n                    const volume = element.volume !== undefined ? element.volume / 100 : 1;\n                    filters.push(`[${currentInput}:a]atrim=start=${startTime.toFixed(3)}:duration=${duration.toFixed(3)},asetpts=PTS-STARTPTS,adelay=${delayMs}|${delayMs},volume=${volume}[${audioLabel}]`);\n                    audioStreams.push(`[${audioLabel}]`);\n                }\n            }\n        }\n        let lastLabel = \"base\";\n        let overlayIndex = 0;\n        allElements.forEach((element)=>{\n            if (element.elementType === \"video\" || element.elementType === \"image\") {\n                const nextLabel = `tmp${overlayIndex}`;\n                const visualLabel = `visual${overlayIndex}`;\n                filters.push(`[${lastLabel}][${visualLabel}]overlay=${element.x}:${element.y}:enable='between(t,${element.positionStart},${element.positionEnd})'[${nextLabel}]`);\n                lastLabel = nextLabel;\n                overlayIndex++;\n            }\n        });\n        state.textElements.forEach((text, index)=>{\n            const nextLabel = `tmp_text_${index}`;\n            const escapedText = text.content.replace(/:/g, \":\").replace(/'/g, `'\\''`);\n            const alpha = Math.min(Math.max((text.opacity ?? 100) / 100, 0), 1);\n            const color = (text.color?.includes(\"@\") ? text.color : `${text.color || \"white\"}@${alpha}`).replace(/\\s/g, \"\");\n            const rawPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"public\", \"fonts\", `${text.fontFamily}.ttf`);\n            const sanitizedPath = rawPath.replace(/\\\\/g, \"/\").replace(/^([A-Z]):/, \"$1\\\\:\");\n            const fontPath = `'${sanitizedPath}'`;\n            filters.push(`[${lastLabel}]drawtext=fontfile=${fontPath}:text='${escapedText}':x=${text.x}:y=${text.y}:fontsize=${text.fontSize || 24}:fontcolor=${color}:enable='between(t,${text.positionStart},${text.positionEnd})'[${nextLabel}]`);\n            lastLabel = nextLabel;\n        });\n        complexFilter = filters.join(\"; \");\n        if (audioStreams.length > 0) {\n            complexFilter += `; ${audioStreams.join(\"\")}amix=inputs=${audioStreams.length}:normalize=0[outa]`;\n        }\n        const ffmpegArgs = [\n            ...inputs.flat(),\n            \"-filter_complex\",\n            complexFilter,\n            \"-map\",\n            `[${lastLabel}]`\n        ];\n        if (audioStreams.length > 0) {\n            ffmpegArgs.push(\"-map\", \"[outa]\");\n        }\n        const nvencPresetMap = {\n            fastest: \"p1\",\n            fast: \"p2\",\n            balanced: \"p4\",\n            slow: \"p6\",\n            slowest: \"p7\"\n        };\n        ffmpegArgs.push(\"-c:v\", \"h264_nvenc\", \"-preset\", nvencPresetMap[params.preset] || \"p4\", \"-cq\", (params.crf || 23).toString(), \"-c:a\", \"aac\", \"-b:a\", params.audioBitrate || \"192k\", \"-t\", state.duration.toFixed(3), outputPath);\n        const ffmpegPath = process.env.FFMPEG_PATH || \"ffmpeg\";\n        const logStream = fs__WEBPACK_IMPORTED_MODULE_3___default().createWriteStream(logPath);\n        const ffmpegProcess = (0,child_process__WEBPACK_IMPORTED_MODULE_1__.spawn)(ffmpegPath, ffmpegArgs, {\n            stdio: [\n                \"ignore\",\n                \"pipe\",\n                \"pipe\"\n            ]\n        });\n        ffmpegProcess.stderr.pipe(logStream);\n        ffmpegProcess.stdout.pipe(logStream);\n        ffmpegProcess.on(\"close\", (code)=>{\n            logStream.end();\n            if (code !== 0) {\n                fs__WEBPACK_IMPORTED_MODULE_3___default().promises.writeFile(path__WEBPACK_IMPORTED_MODULE_2___default().join(tempDir, `${renderId}.error`), `FFmpeg failed with code ${code}`).catch(()=>{});\n            }\n            setTimeout(()=>{\n                fs__WEBPACK_IMPORTED_MODULE_3___default().promises.unlink(outputPath).catch(()=>{});\n                fs__WEBPACK_IMPORTED_MODULE_3___default().promises.unlink(logPath).catch(()=>{});\n                fs__WEBPACK_IMPORTED_MODULE_3___default().promises.unlink(path__WEBPACK_IMPORTED_MODULE_2___default().join(tempDir, `${renderId}.error`)).catch(()=>{});\n            }, 600000);\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            renderId\n        }, {\n            status: 202\n        });\n    } catch (error) {\n        console.error(\"Error processing render request:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Error processing request\",\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBTztnQkFDNUN2SCxrREFBVyxDQUFDeUgsTUFBTSxDQUFDcEcsU0FBU2tHLEtBQUssQ0FBQyxLQUFPO2dCQUN6Q3ZILGtEQUFXLENBQUN5SCxNQUFNLENBQUMxSCxnREFBUyxDQUFDZ0IsU0FBUyxDQUFDLEVBQUVELFNBQVMsTUFBTSxDQUFDLEdBQUd5RyxLQUFLLENBQUMsS0FBTztZQUM3RSxHQUFHO1FBQ1A7UUFFQSxPQUFPMUgsa0ZBQVlBLENBQUNnQixJQUFJLENBQUM7WUFBRUM7UUFBUyxHQUFHO1lBQUU0RyxRQUFRO1FBQUk7SUFFekQsRUFBRSxPQUFPQyxPQUFPO1FBQ1pDLFFBQVFELEtBQUssQ0FBQyxvQ0FBb0NBO1FBQ2xELE9BQU85SCxrRkFBWUEsQ0FBQ2dCLElBQUksQ0FBQztZQUFFZ0gsU0FBUztZQUE0QkYsT0FBTyxNQUFpQkUsT0FBTztRQUFDLEdBQUc7WUFBRUgsUUFBUTtRQUFJO0lBQ3JIO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbGlwanMvLi9hcHAvYXBpL3JlbmRlci9yb3V0ZS50cz8xNTQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB0eXBlIHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBzcGF3biB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IG9zIGZyb20gJ29zJztcbmltcG9ydCB7IFByb2plY3RTdGF0ZSB9IGZyb20gJ0AvYXBwL3R5cGVzJztcbmltcG9ydCB7IGV4dHJhY3RDb25maWdzIH0gZnJvbSAnQC9hcHAvdXRpbHMvZXh0cmFjdENvbmZpZ3MnO1xuaW1wb3J0IHsgcmFuZG9tVVVJRCB9IGZyb20gJ2NyeXB0byc7XG5cbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZURpcihkaXJQYXRoOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBmcy5wcm9taXNlcy5hY2Nlc3MoZGlyUGF0aCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBhd2FpdCBmcy5wcm9taXNlcy5ta2RpcihkaXJQYXRoLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RhdGU6IFByb2plY3RTdGF0ZSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgICAgICBjb25zdCByZW5kZXJJZCA9IHJhbmRvbVVVSUQoKTtcbiAgICAgICAgY29uc3QgdGVtcERpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnLnRtcCcpO1xuICAgICAgICBhd2FpdCBlbnN1cmVEaXIodGVtcERpcik7XG5cbiAgICAgICAgY29uc3Qgb3V0cHV0RmlsZU5hbWUgPSBgJHtyZW5kZXJJZH0ubXA0YDtcbiAgICAgICAgY29uc3Qgb3V0cHV0UGF0aCA9IHBhdGguam9pbih0ZW1wRGlyLCBvdXRwdXRGaWxlTmFtZSk7XG4gICAgICAgIGNvbnN0IGxvZ1BhdGggPSBwYXRoLmpvaW4odGVtcERpciwgYCR7cmVuZGVySWR9LmxvZ2ApO1xuXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IGV4dHJhY3RDb25maWdzKHN0YXRlLmV4cG9ydFNldHRpbmdzKTtcbiAgICAgICAgY29uc3QgZmlsdGVyczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgY29uc3QgaW5wdXRzOiBhbnlbXSA9IFtdO1xuICAgICAgICBjb25zdCBhdWRpb1N0cmVhbXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGxldCBjb21wbGV4RmlsdGVyID0gJyc7XG5cbiAgICAgICAgZmlsdGVycy5wdXNoKGBjb2xvcj1jPWJsYWNrOnNpemU9MTkyMHgxMDgwOmQ9JHtzdGF0ZS5kdXJhdGlvbi50b0ZpeGVkKDMpfVtiYXNlXWApO1xuXG4gICAgICAgIGNvbnN0IGFsbEVsZW1lbnRzID0gW1xuICAgICAgICAgICAgLi4uc3RhdGUubWVkaWFGaWxlcy5tYXAoaXRlbSA9PiAoeyAuLi5pdGVtLCBlbGVtZW50VHlwZTogaXRlbS50eXBlIH0pKSxcbiAgICAgICAgICAgIC4uLnN0YXRlLnRleHRFbGVtZW50cy5tYXAoaXRlbSA9PiAoeyAuLi5pdGVtLCBlbGVtZW50VHlwZTogJ3RleHQnIGFzIGNvbnN0IH0pKVxuICAgICAgICBdLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYWNrSW5kZXggPSBzdGF0ZS50cmFja3MuZmluZEluZGV4KHQgPT4gdC5pZCA9PT0gaXRlbS50cmFja0lkKTtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsVHJhY2tzID0gc3RhdGUudHJhY2tzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VaSW5kZXggPSAodG90YWxUcmFja3MgLSB0cmFja0luZGV4IC0gMSkgKiAxMDtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsWkluZGV4ID0gYmFzZVpJbmRleCArIChpdGVtLmxheWVyT3JkZXIgfHwgMCk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5pdGVtLCB6SW5kZXg6IGZpbmFsWkluZGV4IH07XG4gICAgICAgIH0pLnNvcnQoKGEsIGIpID0+IGEuekluZGV4IC0gYi56SW5kZXgpO1xuXG4gICAgICAgIGxldCBpbnB1dEluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGFsbEVsZW1lbnRzKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5lbGVtZW50VHlwZSA9PT0gJ3ZpZGVvJyB8fCBlbGVtZW50LmVsZW1lbnRUeXBlID09PSAnaW1hZ2UnIHx8IGVsZW1lbnQuZWxlbWVudFR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYVBhdGggPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ3B1YmxpYycsIGVsZW1lbnQudXJsISk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudElucHV0ID0gaW5wdXRJbmRleCsrO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dHMucHVzaCgnLWxvb3AnLCAnMScsICctdCcsIChlbGVtZW50LnBvc2l0aW9uRW5kIC0gZWxlbWVudC5wb3NpdGlvblN0YXJ0KS50b0ZpeGVkKDMpLCAnLWknLCBtZWRpYVBhdGgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0cy5wdXNoKCctaScsIG1lZGlhUGF0aCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgeyBzdGFydFRpbWUsIHBvc2l0aW9uU3RhcnQsIHBvc2l0aW9uRW5kIH0gPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gcG9zaXRpb25FbmQgLSBwb3NpdGlvblN0YXJ0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpc3VhbExhYmVsID0gYHZpc3VhbCR7Y3VycmVudElucHV0fWA7XG4gICAgICAgICAgICAgICAgY29uc3QgYXVkaW9MYWJlbCA9IGBhdWRpbyR7Y3VycmVudElucHV0fWA7XG5cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC50eXBlID09PSAndmlkZW8nIHx8IGVsZW1lbnQudHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdmlkZW9GaWx0ZXIgPSBgWyR7Y3VycmVudElucHV0fTp2XWA7XG4gICAgICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQudHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvRmlsdGVyICs9IGB0cmltPXN0YXJ0PSR7c3RhcnRUaW1lLnRvRml4ZWQoMyl9OmR1cmF0aW9uPSR7ZHVyYXRpb24udG9GaXhlZCgzKX0sYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2aWRlb0ZpbHRlciArPSBgc2NhbGU9JHtlbGVtZW50LndpZHRoIHx8IDE5MjB9OiR7ZWxlbWVudC5oZWlnaHQgfHwgMTA4MH0sc2V0cHRzPVBUUy1TVEFSVFBUUyske3Bvc2l0aW9uU3RhcnQudG9GaXhlZCgzKX0vVEJgO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHBoYSA9IE1hdGgubWluKE1hdGgubWF4KChlbGVtZW50Lm9wYWNpdHkgfHwgMTAwKSAvIDEwMCwgMCksIDEpO1xuICAgICAgICAgICAgICAgICAgICB2aWRlb0ZpbHRlciArPSBgLGZvcm1hdD15dXZhNDIwcCxjb2xvcmNoYW5uZWxtaXhlcj1hYT0ke2FscGhhfVske3Zpc3VhbExhYmVsfV1gO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzLnB1c2godmlkZW9GaWx0ZXIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnR5cGUgPT09ICdhdWRpbycgJiYgZWxlbWVudC52b2x1bWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbGF5TXMgPSBNYXRoLnJvdW5kKHBvc2l0aW9uU3RhcnQgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdm9sdW1lID0gZWxlbWVudC52b2x1bWUgIT09IHVuZGVmaW5lZCA/IGVsZW1lbnQudm9sdW1lIC8gMTAwIDogMTtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgYFske2N1cnJlbnRJbnB1dH06YV1hdHJpbT1zdGFydD0ke3N0YXJ0VGltZS50b0ZpeGVkKDMpfTpkdXJhdGlvbj0ke2R1cmF0aW9uLnRvRml4ZWQoMyl9LGFzZXRwdHM9UFRTLVNUQVJUUFRTLGFkZWxheT0ke2RlbGF5TXN9fCR7ZGVsYXlNc30sdm9sdW1lPSR7dm9sdW1lfVske2F1ZGlvTGFiZWx9XWBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9TdHJlYW1zLnB1c2goYFske2F1ZGlvTGFiZWx9XWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXN0TGFiZWwgPSAnYmFzZSc7XG4gICAgICAgIGxldCBvdmVybGF5SW5kZXggPSAwO1xuICAgICAgICBhbGxFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBpZihlbGVtZW50LmVsZW1lbnRUeXBlID09PSAndmlkZW8nIHx8IGVsZW1lbnQuZWxlbWVudFR5cGUgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0TGFiZWwgPSBgdG1wJHtvdmVybGF5SW5kZXh9YDtcbiAgICAgICAgICAgICAgICBjb25zdCB2aXN1YWxMYWJlbCA9IGB2aXN1YWwke292ZXJsYXlJbmRleH1gO1xuICAgICAgICAgICAgICAgIGZpbHRlcnMucHVzaChgWyR7bGFzdExhYmVsfV1bJHt2aXN1YWxMYWJlbH1db3ZlcmxheT0ke2VsZW1lbnQueH06JHtlbGVtZW50Lnl9OmVuYWJsZT0nYmV0d2Vlbih0LCR7ZWxlbWVudC5wb3NpdGlvblN0YXJ0fSwke2VsZW1lbnQucG9zaXRpb25FbmR9KSdbJHtuZXh0TGFiZWx9XWApO1xuICAgICAgICAgICAgICAgIGxhc3RMYWJlbCA9IG5leHRMYWJlbDtcbiAgICAgICAgICAgICAgICBvdmVybGF5SW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RhdGUudGV4dEVsZW1lbnRzLmZvckVhY2goKHRleHQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXh0TGFiZWwgPSBgdG1wX3RleHRfJHtpbmRleH1gO1xuICAgICAgICAgICAgY29uc3QgZXNjYXBlZFRleHQgPSB0ZXh0LmNvbnRlbnQucmVwbGFjZSgvOi9nLCAnXFw6JykucmVwbGFjZSgvJy9nLCBgJ1xcJydgKTtcbiAgICAgICAgICAgIGNvbnN0IGFscGhhID0gTWF0aC5taW4oTWF0aC5tYXgoKHRleHQub3BhY2l0eSA/PyAxMDApIC8gMTAwLCAwKSwgMSk7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9ICh0ZXh0LmNvbG9yPy5pbmNsdWRlcygnQCcpID8gdGV4dC5jb2xvciA6IGAke3RleHQuY29sb3IgfHwgJ3doaXRlJ31AJHthbHBoYX1gKS5yZXBsYWNlKC9cXHMvZywgJycpO1xuICAgICAgICAgICAgY29uc3QgcmF3UGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ2ZvbnRzJywgYCR7dGV4dC5mb250RmFtaWx5fS50dGZgKTsgICAgICAgICAgICBjb25zdCBzYW5pdGl6ZWRQYXRoID0gcmF3UGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJykucmVwbGFjZSgvXihbQS1aXSk6LywgJyQxXFxcXDonKTsgICAgICAgICAgICBjb25zdCBmb250UGF0aCA9IGAnJHtzYW5pdGl6ZWRQYXRofSdgO1xuICAgICAgICAgICAgZmlsdGVycy5wdXNoKFxuICAgICAgICAgICAgICAgIGBbJHtsYXN0TGFiZWx9XWRyYXd0ZXh0PWZvbnRmaWxlPSR7Zm9udFBhdGh9OnRleHQ9JyR7ZXNjYXBlZFRleHR9Jzp4PSR7dGV4dC54fTp5PSR7dGV4dC55fTpmb250c2l6ZT0ke3RleHQuZm9udFNpemUgfHwgMjR9OmZvbnRjb2xvcj0ke2NvbG9yfTplbmFibGU9J2JldHdlZW4odCwke3RleHQucG9zaXRpb25TdGFydH0sJHt0ZXh0LnBvc2l0aW9uRW5kfSknWyR7bmV4dExhYmVsfV1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbGFzdExhYmVsID0gbmV4dExhYmVsO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb21wbGV4RmlsdGVyID0gZmlsdGVycy5qb2luKCc7ICcpO1xuICAgICAgICBpZiAoYXVkaW9TdHJlYW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbXBsZXhGaWx0ZXIgKz0gYDsgJHthdWRpb1N0cmVhbXMuam9pbignJyl9YW1peD1pbnB1dHM9JHthdWRpb1N0cmVhbXMubGVuZ3RofTpub3JtYWxpemU9MFtvdXRhXWA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBmZm1wZWdBcmdzID0gW1xuICAgICAgICAgICAgLi4uaW5wdXRzLmZsYXQoKSxcbiAgICAgICAgICAgICctZmlsdGVyX2NvbXBsZXgnLCBjb21wbGV4RmlsdGVyLFxuICAgICAgICAgICAgJy1tYXAnLCBgWyR7bGFzdExhYmVsfV1gLFxuICAgICAgICBdO1xuXG4gICAgICAgIGlmIChhdWRpb1N0cmVhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZmZtcGVnQXJncy5wdXNoKCctbWFwJywgJ1tvdXRhXScpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBudmVuY1ByZXNldE1hcCA9IHtcbiAgICAgICAgICAgIGZhc3Rlc3Q6ICdwMScsXG4gICAgICAgICAgICBmYXN0OiAncDInLFxuICAgICAgICAgICAgYmFsYW5jZWQ6ICdwNCcsXG4gICAgICAgICAgICBzbG93OiAncDYnLFxuICAgICAgICAgICAgc2xvd2VzdDogJ3A3J1xuICAgICAgICB9O1xuXG4gICAgICAgIGZmbXBlZ0FyZ3MucHVzaChcbiAgICAgICAgICAgICctYzp2JywgJ2gyNjRfbnZlbmMnLFxuICAgICAgICAgICAgJy1wcmVzZXQnLCBudmVuY1ByZXNldE1hcFtwYXJhbXMucHJlc2V0IGFzIGtleW9mIHR5cGVvZiBudmVuY1ByZXNldE1hcF0gfHwgJ3A0JyxcbiAgICAgICAgICAgICctY3EnLCAocGFyYW1zLmNyZiB8fCAyMykudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICctYzphJywgJ2FhYycsXG4gICAgICAgICAgICAnLWI6YScsIHBhcmFtcy5hdWRpb0JpdHJhdGUgfHwgJzE5MmsnLFxuICAgICAgICAgICAgJy10Jywgc3RhdGUuZHVyYXRpb24udG9GaXhlZCgzKSxcbiAgICAgICAgICAgIG91dHB1dFBhdGhcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBmZm1wZWdQYXRoID0gcHJvY2Vzcy5lbnYuRkZNUEVHX1BBVEggfHwgJ2ZmbXBlZyc7XG4gICAgICAgIGNvbnN0IGxvZ1N0cmVhbSA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGxvZ1BhdGgpO1xuICAgICAgICBjb25zdCBmZm1wZWdQcm9jZXNzID0gc3Bhd24oZmZtcGVnUGF0aCwgZmZtcGVnQXJncywgeyBzdGRpbzogWydpZ25vcmUnLCAncGlwZScsICdwaXBlJ10gfSk7XG5cbiAgICAgICAgZmZtcGVnUHJvY2Vzcy5zdGRlcnIucGlwZShsb2dTdHJlYW0pO1xuICAgICAgICBmZm1wZWdQcm9jZXNzLnN0ZG91dC5waXBlKGxvZ1N0cmVhbSk7XG5cbiAgICAgICAgZmZtcGVnUHJvY2Vzcy5vbignY2xvc2UnLCAoY29kZSkgPT4ge1xuICAgICAgICAgICAgbG9nU3RyZWFtLmVuZCgpO1xuICAgICAgICAgICAgaWYgKGNvZGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICBmcy5wcm9taXNlcy53cml0ZUZpbGUocGF0aC5qb2luKHRlbXBEaXIsIGAke3JlbmRlcklkfS5lcnJvcmApLCBgRkZtcGVnIGZhaWxlZCB3aXRoIGNvZGUgJHtjb2RlfWApLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZzLnByb21pc2VzLnVubGluayhvdXRwdXRQYXRoKS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICAgICAgICAgICAgZnMucHJvbWlzZXMudW5saW5rKGxvZ1BhdGgpLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgICAgICAgICAgICBmcy5wcm9taXNlcy51bmxpbmsocGF0aC5qb2luKHRlbXBEaXIsIGAke3JlbmRlcklkfS5lcnJvcmApKS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICAgICAgICB9LCA2MDAwMDApO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyByZW5kZXJJZCB9LCB7IHN0YXR1czogMjAyIH0pO1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyByZW5kZXIgcmVxdWVzdDonLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBwcm9jZXNzaW5nIHJlcXVlc3QnLCBlcnJvcjogKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJzcGF3biIsInBhdGgiLCJmcyIsImV4dHJhY3RDb25maWdzIiwicmFuZG9tVVVJRCIsImVuc3VyZURpciIsImRpclBhdGgiLCJwcm9taXNlcyIsImFjY2VzcyIsImUiLCJta2RpciIsInJlY3Vyc2l2ZSIsIlBPU1QiLCJyZXF1ZXN0Iiwic3RhdGUiLCJqc29uIiwicmVuZGVySWQiLCJ0ZW1wRGlyIiwiam9pbiIsInByb2Nlc3MiLCJjd2QiLCJvdXRwdXRGaWxlTmFtZSIsIm91dHB1dFBhdGgiLCJsb2dQYXRoIiwicGFyYW1zIiwiZXhwb3J0U2V0dGluZ3MiLCJmaWx0ZXJzIiwiaW5wdXRzIiwiYXVkaW9TdHJlYW1zIiwiY29tcGxleEZpbHRlciIsInB1c2giLCJkdXJhdGlvbiIsInRvRml4ZWQiLCJhbGxFbGVtZW50cyIsIm1lZGlhRmlsZXMiLCJtYXAiLCJpdGVtIiwiZWxlbWVudFR5cGUiLCJ0eXBlIiwidGV4dEVsZW1lbnRzIiwidHJhY2tJbmRleCIsInRyYWNrcyIsImZpbmRJbmRleCIsInQiLCJpZCIsInRyYWNrSWQiLCJ0b3RhbFRyYWNrcyIsImxlbmd0aCIsImJhc2VaSW5kZXgiLCJmaW5hbFpJbmRleCIsImxheWVyT3JkZXIiLCJ6SW5kZXgiLCJzb3J0IiwiYSIsImIiLCJpbnB1dEluZGV4IiwiZWxlbWVudCIsIm1lZGlhUGF0aCIsInVybCIsImN1cnJlbnRJbnB1dCIsInBvc2l0aW9uRW5kIiwicG9zaXRpb25TdGFydCIsInN0YXJ0VGltZSIsInZpc3VhbExhYmVsIiwiYXVkaW9MYWJlbCIsInZpZGVvRmlsdGVyIiwid2lkdGgiLCJoZWlnaHQiLCJhbHBoYSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJvcGFjaXR5Iiwidm9sdW1lIiwiZGVsYXlNcyIsInJvdW5kIiwidW5kZWZpbmVkIiwibGFzdExhYmVsIiwib3ZlcmxheUluZGV4IiwiZm9yRWFjaCIsIm5leHRMYWJlbCIsIngiLCJ5IiwidGV4dCIsImluZGV4IiwiZXNjYXBlZFRleHQiLCJjb250ZW50IiwicmVwbGFjZSIsImNvbG9yIiwiaW5jbHVkZXMiLCJyYXdQYXRoIiwiZm9udEZhbWlseSIsInNhbml0aXplZFBhdGgiLCJmb250UGF0aCIsImZvbnRTaXplIiwiZmZtcGVnQXJncyIsImZsYXQiLCJudmVuY1ByZXNldE1hcCIsImZhc3Rlc3QiLCJmYXN0IiwiYmFsYW5jZWQiLCJzbG93Iiwic2xvd2VzdCIsInByZXNldCIsImNyZiIsInRvU3RyaW5nIiwiYXVkaW9CaXRyYXRlIiwiZmZtcGVnUGF0aCIsImVudiIsIkZGTVBFR19QQVRIIiwibG9nU3RyZWFtIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJmZm1wZWdQcm9jZXNzIiwic3RkaW8iLCJzdGRlcnIiLCJwaXBlIiwic3Rkb3V0Iiwib24iLCJjb2RlIiwiZW5kIiwid3JpdGVGaWxlIiwiY2F0Y2giLCJzZXRUaW1lb3V0IiwidW5saW5rIiwic3RhdHVzIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/render/route.ts\n");

/***/ }),

/***/ "(rsc)/./app/utils/extractConfigs.ts":
/*!*************************************!*\
  !*** ./app/utils/extractConfigs.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractConfigs: () => (/* binding */ extractConfigs)\n/* harmony export */ });\n// Function to get FFmpeg parameters based on settings\nconst extractConfigs = (config)=>{\n    // Resolution settings\n    let scale = \"\";\n    switch(config.resolution){\n        case \"480p\":\n            scale = \"scale=854:480\";\n            break;\n        case \"720p\":\n            scale = \"scale=1280:720\";\n            break;\n        case \"1080p\":\n            scale = \"scale=1920:1080\";\n            break;\n        case \"2K\":\n            scale = \"scale=2048:1080\";\n            break;\n        case \"4K\":\n            scale = \"scale=3840:2160\";\n            break;\n        default:\n            scale = \"scale=1920:1080\";\n    }\n    // Quality settings\n    let crf;\n    let videoBitrate;\n    let audioBitrate;\n    switch(config.quality){\n        case \"low\":\n            crf = 28;\n            videoBitrate = \"2M\";\n            audioBitrate = \"128k\";\n            break;\n        case \"medium\":\n            crf = 23;\n            videoBitrate = \"4M\";\n            audioBitrate = \"192k\";\n            break;\n        case \"high\":\n            crf = 18;\n            videoBitrate = \"8M\";\n            audioBitrate = \"256k\";\n            break;\n        case \"ultra\":\n            crf = 14;\n            videoBitrate = \"16M\";\n            audioBitrate = \"320k\";\n            break;\n        default:\n            crf = 23;\n            videoBitrate = \"4M\";\n            audioBitrate = \"192k\";\n    }\n    // Encoding speed\n    let preset;\n    switch(config.speed){\n        case \"fastest\":\n            preset = \"ultrafast\";\n            break;\n        case \"fast\":\n            preset = \"veryfast\";\n            break;\n        case \"balanced\":\n            preset = \"medium\";\n            break;\n        case \"slow\":\n            preset = \"slow\";\n            break;\n        case \"slowest\":\n            preset = \"veryslow\";\n            break;\n        default:\n            preset = \"medium\";\n    }\n    return {\n        scale,\n        crf,\n        preset,\n        videoBitrate,\n        audioBitrate\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvdXRpbHMvZXh0cmFjdENvbmZpZ3MudHMiLCJtYXBwaW5ncyI6Ijs7OztBQUVBLHNEQUFzRDtBQUMvQyxNQUFNQSxpQkFBaUIsQ0FBQ0M7SUFDM0Isc0JBQXNCO0lBQ3RCLElBQUlDLFFBQVE7SUFDWixPQUFRRCxPQUFPRSxVQUFVO1FBQ3JCLEtBQUs7WUFDREQsUUFBUTtZQUNSO1FBQ0osS0FBSztZQUNEQSxRQUFRO1lBQ1I7UUFDSixLQUFLO1lBQ0RBLFFBQVE7WUFDUjtRQUNKLEtBQUs7WUFDREEsUUFBUTtZQUNSO1FBQ0osS0FBSztZQUNEQSxRQUFRO1lBQ1I7UUFDSjtZQUNJQSxRQUFRO0lBQ2hCO0lBRUEsbUJBQW1CO0lBQ25CLElBQUlFO0lBQ0osSUFBSUM7SUFDSixJQUFJQztJQUNKLE9BQVFMLE9BQU9NLE9BQU87UUFDbEIsS0FBSztZQUNESCxNQUFNO1lBQ05DLGVBQWU7WUFDZkMsZUFBZTtZQUNmO1FBQ0osS0FBSztZQUNERixNQUFNO1lBQ05DLGVBQWU7WUFDZkMsZUFBZTtZQUNmO1FBQ0osS0FBSztZQUNERixNQUFNO1lBQ05DLGVBQWU7WUFDZkMsZUFBZTtZQUNmO1FBQ0osS0FBSztZQUNERixNQUFNO1lBQ05DLGVBQWU7WUFDZkMsZUFBZTtZQUNmO1FBQ0o7WUFDSUYsTUFBTTtZQUNOQyxlQUFlO1lBQ2ZDLGVBQWU7SUFDdkI7SUFFQSxpQkFBaUI7SUFDakIsSUFBSUU7SUFDSixPQUFRUCxPQUFPUSxLQUFLO1FBQ2hCLEtBQUs7WUFDREQsU0FBUztZQUNUO1FBQ0osS0FBSztZQUNEQSxTQUFTO1lBQ1Q7UUFDSixLQUFLO1lBQ0RBLFNBQVM7WUFDVDtRQUNKLEtBQUs7WUFDREEsU0FBUztZQUNUO1FBQ0osS0FBSztZQUNEQSxTQUFTO1lBQ1Q7UUFDSjtZQUNJQSxTQUFTO0lBQ2pCO0lBRUEsT0FBTztRQUNITjtRQUNBRTtRQUNBSTtRQUNBSDtRQUNBQztJQUNKO0FBQ0osRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2NsaXBqcy8uL2FwcC91dGlscy9leHRyYWN0Q29uZmlncy50cz84NDQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV4cG9ydENvbmZpZyB9IGZyb20gXCJAL2FwcC90eXBlc1wiO1xyXG5cclxuLy8gRnVuY3Rpb24gdG8gZ2V0IEZGbXBlZyBwYXJhbWV0ZXJzIGJhc2VkIG9uIHNldHRpbmdzXHJcbmV4cG9ydCBjb25zdCBleHRyYWN0Q29uZmlncyA9IChjb25maWc6IEV4cG9ydENvbmZpZykgPT4ge1xyXG4gICAgLy8gUmVzb2x1dGlvbiBzZXR0aW5nc1xyXG4gICAgbGV0IHNjYWxlID0gXCJcIjtcclxuICAgIHN3aXRjaCAoY29uZmlnLnJlc29sdXRpb24pIHtcclxuICAgICAgICBjYXNlIFwiNDgwcFwiOlxyXG4gICAgICAgICAgICBzY2FsZSA9IFwic2NhbGU9ODU0OjQ4MFwiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiNzIwcFwiOlxyXG4gICAgICAgICAgICBzY2FsZSA9IFwic2NhbGU9MTI4MDo3MjBcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIjEwODBwXCI6XHJcbiAgICAgICAgICAgIHNjYWxlID0gXCJzY2FsZT0xOTIwOjEwODBcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIjJLXCI6XHJcbiAgICAgICAgICAgIHNjYWxlID0gXCJzY2FsZT0yMDQ4OjEwODBcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIjRLXCI6XHJcbiAgICAgICAgICAgIHNjYWxlID0gXCJzY2FsZT0zODQwOjIxNjBcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgc2NhbGUgPSBcInNjYWxlPTE5MjA6MTA4MFwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFF1YWxpdHkgc2V0dGluZ3NcclxuICAgIGxldCBjcmY7XHJcbiAgICBsZXQgdmlkZW9CaXRyYXRlO1xyXG4gICAgbGV0IGF1ZGlvQml0cmF0ZTtcclxuICAgIHN3aXRjaCAoY29uZmlnLnF1YWxpdHkpIHtcclxuICAgICAgICBjYXNlIFwibG93XCI6XHJcbiAgICAgICAgICAgIGNyZiA9IDI4O1xyXG4gICAgICAgICAgICB2aWRlb0JpdHJhdGUgPSBcIjJNXCI7XHJcbiAgICAgICAgICAgIGF1ZGlvQml0cmF0ZSA9IFwiMTI4a1wiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibWVkaXVtXCI6XHJcbiAgICAgICAgICAgIGNyZiA9IDIzO1xyXG4gICAgICAgICAgICB2aWRlb0JpdHJhdGUgPSBcIjRNXCI7XHJcbiAgICAgICAgICAgIGF1ZGlvQml0cmF0ZSA9IFwiMTkya1wiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiaGlnaFwiOlxyXG4gICAgICAgICAgICBjcmYgPSAxODtcclxuICAgICAgICAgICAgdmlkZW9CaXRyYXRlID0gXCI4TVwiO1xyXG4gICAgICAgICAgICBhdWRpb0JpdHJhdGUgPSBcIjI1NmtcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcInVsdHJhXCI6XHJcbiAgICAgICAgICAgIGNyZiA9IDE0O1xyXG4gICAgICAgICAgICB2aWRlb0JpdHJhdGUgPSBcIjE2TVwiO1xyXG4gICAgICAgICAgICBhdWRpb0JpdHJhdGUgPSBcIjMyMGtcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY3JmID0gMjM7XHJcbiAgICAgICAgICAgIHZpZGVvQml0cmF0ZSA9IFwiNE1cIjtcclxuICAgICAgICAgICAgYXVkaW9CaXRyYXRlID0gXCIxOTJrXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW5jb2Rpbmcgc3BlZWRcclxuICAgIGxldCBwcmVzZXQ7XHJcbiAgICBzd2l0Y2ggKGNvbmZpZy5zcGVlZCkge1xyXG4gICAgICAgIGNhc2UgXCJmYXN0ZXN0XCI6XHJcbiAgICAgICAgICAgIHByZXNldCA9IFwidWx0cmFmYXN0XCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJmYXN0XCI6XHJcbiAgICAgICAgICAgIHByZXNldCA9IFwidmVyeWZhc3RcIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImJhbGFuY2VkXCI6XHJcbiAgICAgICAgICAgIHByZXNldCA9IFwibWVkaXVtXCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJzbG93XCI6XHJcbiAgICAgICAgICAgIHByZXNldCA9IFwic2xvd1wiO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwic2xvd2VzdFwiOlxyXG4gICAgICAgICAgICBwcmVzZXQgPSBcInZlcnlzbG93XCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHByZXNldCA9IFwibWVkaXVtXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBzY2FsZSxcclxuICAgICAgICBjcmYsXHJcbiAgICAgICAgcHJlc2V0LFxyXG4gICAgICAgIHZpZGVvQml0cmF0ZSxcclxuICAgICAgICBhdWRpb0JpdHJhdGVcclxuICAgIH07XHJcbn07Il0sIm5hbWVzIjpbImV4dHJhY3RDb25maWdzIiwiY29uZmlnIiwic2NhbGUiLCJyZXNvbHV0aW9uIiwiY3JmIiwidmlkZW9CaXRyYXRlIiwiYXVkaW9CaXRyYXRlIiwicXVhbGl0eSIsInByZXNldCIsInNwZWVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/utils/extractConfigs.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Frender%2Froute&page=%2Fapi%2Frender%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Frender%2Froute.ts&appDir=D%3A%5CWORKDATA%5Cclip-js%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWORKDATA%5Cclip-js&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();